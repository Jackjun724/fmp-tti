var FT=function(){"use strict";var o=localStorage;function n(t){try{return o.removeItem(t)}catch(t){}}function a(t){var n=t.textContent;return n&&n.trim()}function c(t){var n=t&&t.tagName;return n&&!/^(?:HEAD|META|LINK|STYLE|SCRIPT)$/.test(n)}var i,f,u,s,e,d,v,t=window,m=document,h=t.innerHeight,r=t.performance,g=t.setTimeout,l=t.MutationObserver,p=r&&r.timing,I=p&&p.navigationStart,T=t.TTI_LIMIT||1e4,y=50,E="ft-"+location.pathname,L=!(!I||!l),N=!L,M=[];function S(){return Date.now()-I}function b(t){s={fcp:i?i.t:t,fmp:f?f.t:t,tti:t}}function w(t){var n=0;if(t!==m.body){var e=t.getBoundingClientRect();if(e.top<h)if(0<e.width&&0<e.height)if("IMG"===t.tagName)t.src&&(n=1);else if(a(t)||"none"!==getComputedStyle(t).backgroundImage){n=1;var r=t.childNodes;r&&r.length&&(n+=G(r))}}return n}var C=0,O=1;function D(){var t,i;clearTimeout(C),function e(){if(L&&!N){var r=S();t=t||(i=r),C=g(function(){var t=S(),n=t-r;n-O<10?O<16?O*=2:O<25?O+=1:O=25:50<n&&(O=Math.max(1,O/2)),50<t-r&&(i=t),1e3<t-i||T<t?(b(i),function(t,n){try{o.setItem(t,n)}catch(t){}}(E,JSON.stringify(s))):e()},O)}}()}function x(t){if(0<t){var n=S(),e={t:S(),s:t,m:0,p:u};u=e,i=i||e;for(var r=e;e=e.p;)n-e.t>y?delete e.p:(t+=e.s,e.s>r.s&&(r=e));(f?f.m:0)<=t&&(r.m=t,f!==r&&(f=r,d?D():v=D))}}function A(){x(w(this)),this.removeEventListener("load",A)}function G(t){for(var n,e=0,r=0,i=t.length;r<i;r++){var o=t[r];"IMG"===o.tagName?o.addEventListener("load",A):c(o)?e+=w(o):(n=o)&&1===n.nodeType&&a(n)&&c(n.parentElement)&&(e+=1)}return e}if(L){m.addEventListener("DOMContentLoaded",function(){d=!0,v&&v()});var H=new l(function(t){if(L&&m.body){var n=0;t.forEach(function(t){n+=G(t.addedNodes)}),x(n)}});H.observe(m,{childList:!0,subtree:!0}),g(function(){N||(n(E),N=!0,s||b(S()),H.disconnect(),L&&M.forEach(function(t){return t(s)}))},T),e=function(t){try{return o.getItem(t)}catch(t){}}(E)}return{startTime:I,now:S,stop:function(){L=!1},last:function(t){if(e){try{t(JSON.parse(e))}catch(t){}n(E)}},then:function(t){L&&"function"==typeof t&&(N?t(s):M.push(t))}}}();
