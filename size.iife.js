var FT=function(){"use strict";var t=window,n=t.localStorage;function e(t){try{return n.removeItem(t)}catch(t){}}function r(t){var n=t.textContent;return n&&n.trim()}function o(t){var n=t&&t.tagName;return n&&!/^(?:HEAD|META|LINK|STYLE|SCRIPT)$/.test(n)}function i(t){return t&&1===t.nodeType&&r(t)&&o(t.parentElement)}var a,c,u,f,s,d,m,h,v=document,g=t.innerHeight,l=t.performance,p=t.setTimeout,I=t.MutationObserver,y=l&&l.timing,T=y&&y.navigationStart,E=t.TTI_LIMIT||1e4,N="ft-"+location.pathname,L=!(!T||!I),M=!L,S=[],b=0,w=1;function C(){return Date.now()-T}function O(t){f={fcp:a?a.t:t,fmp:c?c.t:t,tti:t}}function D(t){var n,e=0;if(t!==v.body){var o=t.getBoundingClientRect(),i=o.y,a=o.width,c=o.height;i<g&&a>0&&c>0&&("IMG"!==t.tagName?(r(t)||"none"!==getComputedStyle(t).backgroundImage)&&(e=a*c,(n=t.childNodes)&&n.length&&(e+=J(n))):t.src&&(e=1))}return e}function G(){var t,e,r,o,i;clearTimeout(b),function a(){L&&!M&&(r=C(),t||(t=e=r),b=p((function(){o=C(),(i=o-r)-w<10?w<16?w*=2:w<25?w+=1:w=25:i>50&&(w=Math.max(1,w/2)),o-r>50&&(e=o),o-e>1e3||o>E?(O(e),function(t,e){try{n.setItem(t,e)}catch(t){}}(N,JSON.stringify(f))):a()}),w))}()}function x(t){if(t>0){var n=C(),e={t:C(),s:t,m:0,p:u};u=e,a||(a=e);for(var r=e;e=e.p;)n-e.t>50?delete e.p:(t+=e.s,e.s>r.s&&(r=e));t>=(c?c.m:0)&&(r.m=t,c!==r&&(c=r,d?G():m=G))}}function A(t){return"IMG"==t?"load":"canplay"}function H(){x(D(this)),this.removeEventListener(A(this.tagName),H)}function J(t){for(var n=0,e=0,r=t.length;e<r;e++){var a=t[e],c=a.tagName;"IMG"===c||"VIDEO"===c?a.addEventListener(A(c),H):o(a)?n+=D(a):i(a)&&(n+=1)}return n}return L&&(v.addEventListener("DOMContentLoaded",(function(){d=!0,m&&m()})),(h=new I((function(t){if(L&&v.body){var n=0;t.forEach((function(t){n+=J(t.addedNodes)})),x(n)}}))).observe(v,{childList:!0,subtree:!0}),p((function(){M||(e(N),M=!0,f||O(C()),h.disconnect(),L&&S.forEach((function(t){return t(f)})))}),E),s=function(t){try{return n.getItem(t)}catch(t){}}(N)),{startTime:T,now:C,stop:function(){L=!1},last:function(t){if(s){try{t(JSON.parse(s))}catch(t){}e(N)}},then:function(t){L&&"function"==typeof t&&(M?t(f):S.push(t))}}}();
